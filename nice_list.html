<div class="santa-checker">
  <h2>ðŸŽ… Naughty or Nice?</h2>

  <input id="childName" placeholder="Enter name" />
  <button onclick="startCheck()">Check Santaâ€™s List</button>

  <p id="status"></p>

  <canvas id="canvas" width="1600" height="1131" style="display:none;"></canvas>

  <br>
  <a id="download" style="display:none;" download="Santa_Nice_List_Certificate.png">
    ðŸŽ„ Download Certificate
  </a>
</div>

<script>
const bgImage = new Image();
bgImage.crossOrigin = "anonymous";
bgImage.src = "https://raw.githubusercontent.com/BeverleyRoundTable/BRT/main/nice_list.png";  // path to your PNG

function startCheck(){
  const name = document.getElementById("childName").value.trim();
  if(!name) return alert("Please enter a name");

  const status = document.getElementById("status");
  status.innerText = "Checking Santaâ€™s listâ€¦ ðŸ¤”";

  const phases = ["Naughtyâ€¦", "Niceâ€¦", "Naughtyâ€¦", "Niceâ€¦"];
  let i = 0;

  const interval = setInterval(() => {
    status.innerText = phases[i % phases.length];
    i++;
  }, 400);

  // Final result after suspense
  setTimeout(() => {
    clearInterval(interval);
    status.innerText = "âœ… NICE LIST CONFIRMED! ðŸŽ„";
    generateCertificate(name);
  }, 2200);
}

function generateCertificate(name){
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");
  
ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw background
  ctx.drawImage(bgImage, 0, 0, canvas.width, canvas.height);

  // Name styling
  ctx.fillStyle = "#000";
  ctx.font = "bold 64px serif";
  ctx.textAlign = "center";

  // ðŸ‘‰ Adjust these coordinates to match your design
  ctx.fillText(name, canvas.width / 2, 620);

  // Enable download
  const link = document.getElementById("download");
  canvas.toBlob(blob => {
  const url = URL.createObjectURL(blob);
    if (link.href) URL.revokeObjectURL(link.href);
  link.href = url;
  link.style.display = "inline-block";
}, "image/png");

}
</script>
